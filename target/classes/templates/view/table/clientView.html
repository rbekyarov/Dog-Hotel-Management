<th:block th:unless="${session.isEmpty()}">
    <script>
        $(document).ready(function () {
            $('#nav-link').click(function (e) {
                e.preventDefault();
                window.history.back();
            });
        });
    </script>
    <th:block th:fragment xmlns:th="http://www.w3.org/1999/xhtml">
        <br>
        <table align="center" border="0" cellpadding="1" cellspacing="1" style="width: auto;">
            <tbody>

            <td>
                <div class="button_back">
                    <a class="nav-link h5" id="nav-link">
                        <button type="button" class="btn btn-danger btn-lg btnList"><span
                                class="glyphicon glyphicon-ok"></span>Back
                        </button>
                    </a>
                </div>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <div><a class="nav-link h5" th:href="@{/view/table/client/edit/{id}(id=*{client.id})}">
                    <button type="button" class="btn btn-danger btn-lg btnList"><span
                            class="glyphicon glyphicon-ok"></span>Edit Client
                    </button>
                </a></div>
            </td>

            </tbody>
        </table>

        <div class="login-box">
            <h1 class="page_title" th:object="${client}">Client Details</h1>


            <table align="center" border="0" cellpadding="1" cellspacing="1" style="width:auto">
                <tbody>
                <tr>
                    <td align="center"><img align="center" src="#" height="50px" width="50px"
                                            th:src="@{${'/pics/client.png'}}"></td>
                </tr>
                <tr>
                    <td><h3 th:text="${' '+client.firstName +' '+client.lastName}"></h3></td>
                </tr>
                <tr>
                    <td>

                    </td>
                </tr>
                <tr>
                    <td>

                        <label ><img align="center" src="#" height="20px" width="20px"
                                     th:src="@{${'/pics/email.png'}}"
                                th:text="${' Email: '+ client.email}"></label><br>

                        <label><img align="center" src="#" height="20px" width="20px"
                                    th:src="@{${'/pics/phone.png'}}"
                                th:text="${' Phone: '+ client.phone}"></label><br>
                        <label ><img align="center" src="#" height="20px" width="20px"
                                     th:src="@{${'/pics/address.png'}}"
                                th:text="${' Address: '+ client.address}"></label><br>
                        <label ><img align="center" src="#" height="20px" width="20px"
                                     th:src="@{${'/pics/city.png'}}"
                                th:text="${' City: '+ client.city.name}"></label><br>
                    <label >Client Type:
                        <span th:if="${client.clientType.name()=='NEW'}"  class="badge badge-success">NEW</span>
                        <span th:if="${client.clientType.name()=='REGULAR'}"  class="badge badge-primary">REGULAR</span>

                        <span th:if="${client.clientType.name()=='VIP'}" class="badge badge-warning">VIP</span>
                    </label> <br>
        </div>
        </td>

        </tr>
        <tr th:each="d : ${client.dogs}">
            <td>
                <label><a th:href="@{/view/table/dog/view/{id}(id=${d.id})}" th:text="${d.name}"></label><br>

                <img src="#" height="135px" width="200px"
                     th:src="@{${'/image/' + d.imageName}}"><br>
            </td>

        </tr>
        <br>
        <tr>

            <td><a class="nav-link h5" th:href="@{/view/add/dogAdd/{id}(id=*{client.id})}">
                <button type="button" class="btn btn-danger btn-lg btnList"><span
                        class="glyphicon glyphicon-ok"></span>Add Dog
                </button>
            </a></td>
        </tr>
        </tbody>
        </table>

        <br>

        <table align="center" border="0" cellpadding="1" cellspacing="1" style="width:auto">
            <tbody>

            <td>
                <table style="width:auto" class=table>
                    <tbody>
                    <tr><h5>Invoices</h5>
                        <th>No</th>
                        <th>Dog:</th>
                        <th>Reservation No:</th>
                        <th>Total Price:</th>
                        <th>Created:</th>
                        <th>Canceled:</th>
                    </tr>
                    <tr th:each="i : ${clientInvoice}">
                        <td class="h6"><a th:text="${i.id}"
                                          th:href="@{/view/table/invoice/view/{id}(id=${i.id})}"></td>
                        <td th:text="${'Dog '+ i.dogName + ' '+'House:' +i.cellCode + ' '+'Day: '+i.countStay}"></td>
                        <td th:text="${i.reservationId}"></td>
                        <td class="boldPrice" th:text="${i.totalPrice +'$'}"></td>
                        <td th:text="${#temporals.format(i.dateCreate,'dd.MM.yyyy')}"></td>
                        <td th:text="${i.cancellationInvoice}"></td>
                    </tr>
                    </tbody>
                </table>

            </td>

            </tbody>
        </table>

        <table align="center" border="0" cellpadding="1" cellspacing="1" style="width:auto">
            <tbody>

            <td>
                <table style="width:auto" class=table>
                    <tbody>
                    <tr>
                        <th>Total Reservation:</th>
                        <th>Total Invoices:</th>
                        <th>Total SUM:</th>
                    </tr>
                    <tr>
                        <td th:text="${totalCountReservation}"></td>
                        <td th:text="${totalCountClientInvoice}"></td>
                        <td th:text="${totalInvoicedMoney +'$'}"></td>
                    </tr>
                    </tbody>
                </table>

            </td>

            </tbody>
        </table>
        </div>
        </div>


    </th:block>
</th:block>
